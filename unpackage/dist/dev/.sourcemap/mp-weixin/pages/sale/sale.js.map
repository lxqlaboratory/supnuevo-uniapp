{"version":3,"sources":["uni-app:///main.js","webpack:///D:/vue/supnuevo-uniapp/pages/sale/sale.vue?b890","webpack:///D:/vue/supnuevo-uniapp/pages/sale/sale.vue?1564","webpack:///D:/vue/supnuevo-uniapp/pages/sale/sale.vue?1d12","webpack:///D:/vue/supnuevo-uniapp/pages/sale/sale.vue?e5c6","uni-app:///pages/sale/sale.vue","webpack:///D:/vue/supnuevo-uniapp/pages/sale/sale.vue?3538","webpack:///D:/vue/supnuevo-uniapp/pages/sale/sale.vue?4a71"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACiO;AACjO,gBAAgB,uOAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,0MAEN;AACL,GAAG;AACH;AACA,WAAW,4QAEN;AACL,GAAG;AACH;AACA,WAAW,wOAEN;AACL,GAAG;AACH;AACA,WAAW,4TAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAA04B,CAAgB,g5BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqE95B,yD;;;;;;;AAOA;AACA,MADA,kBACA;AACA;AACA,uBADA;AAEA,iBAFA;AAGA,eAHA;AAIA,uBAJA;AAKA,uBALA;AAMA,eANA;AAOA,cAPA;AAQA,aARA;;AAUA,GAZA;AAaA,QAbA,oBAaA;AACA;AACA;;AAEA,GAjBA;AAkBA;AACA,0BADA;AAEA,8CAFA,EAlBA;;AAsBA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA;AAOA;AACA;AACA;AACA,KAVA;AAWA,cAXA,sBAWA,OAXA,EAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,KA9BA;AA+BA,kBA/BA,0BA+BA,OA/BA,EA+BA,CA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAXA,MAWA;AACA;AACA,yBADA;AAEA,YAFA,CAEA;AACA;AACA;AACA;AACA,yBADA;AAEA,+BAFA;AAGA,+BAHA;;AAKA,WANA,MAMA;AACA;AACA;AACA;AACA,gDAHA,CAGA;AACA,aAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAVA,CAUA;AACA;AACA;AACA,SA7BA,EA6BA,KA7BA,CA6BA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA,6BAHA;;AAKA,SAnCA;AAoCA;AACA,KAlFA;AAmFA,kBAnFA,0BAmFA,GAnFA,EAmFA,IAnFA,EAmFA;AACA;AACA;AACA,KAtFA;AAuFA,aAvFA,qBAuFA,OAvFA,EAuFA,IAvFA,EAuFA;AACA;AACA;AACA,yBADA;AAEA,YAFA,CAEA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,iCAFA;AAGA,+BAHA;;AAKA,WANA,MAMA;AACA;AACA,yBADA;AAEA,kCAFA;AAGA,+BAHA;;AAKA,WANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAxCA,EAwCA,KAxCA,CAwCA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA,6BAHA;;AAKA,SA9CA;AA+CA,OAhDA,MAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtJA;AAuJA,eAvJA,yBAuJA;AACA;AACA;AACA;AACA,qBADA;AAEA,4BAFA;AAGA,2BAHA;;AAKA,OANA,MAMA;AACA;AACA;AACA;AACA,2BADA;AAEA,uBAFA;;AAIA;AACA,iGADA;;AAGA;AACA,KA1KA;AA2KA,iBA3KA,yBA2KA,KA3KA,EA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhMA;AAiMA,iBAjMA,yBAiMA,KAjMA,EAiMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5NA;AA6NA,YA7NA,sBA6NA;AACA;AACA;AACA;AACA,sCADA;AAEA,YAFA,CAEA;AACA;AACA;AACA;AACA,yBADA;AAEA,iCAFA;AAGA,+BAHA;;AAKA,WANA,MAMA;AACA;AACA;AACA,SAbA,EAaA,KAbA,CAaA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA,6BAHA;;AAKA,SAnBA;AAoBA,OArBA,MAqBA;AACA;AACA,qBADA;AAEA,2BAFA;AAGA,2BAHA;;AAKA;AACA;AACA,KA5PA;AA6PA,eA7PA,yBA6PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,6BAFA;AAGA,6BAHA;;AAKA,SATA;AAUA;AACA;AACA,uBADA;AAEA,6BAFA;AAGA,6BAHA;;AAKA,SAhBA;;AAkBA,KAjRA,EAtBA,E;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAoxC,CAAgB,yvCAAG,EAAC,C;;;;;;;;;;;ACAxyC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sale/sale.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/sale/sale.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./sale.vue?vue&type=template&id=f3eecd34&\"\nvar renderjs\nimport script from \"./sale.vue?vue&type=script&lang=js&\"\nexport * from \"./sale.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sale.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sale/sale.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sale.vue?vue&type=template&id=f3eecd34&\"","var components = {\n  wybLoading: function() {\n    return import(\n      /* webpackChunkName: \"components/wyb-loading/wyb-loading\" */ \"@/components/wyb-loading/wyb-loading.vue\"\n    )\n  },\n  taogewanComboxRemote: function() {\n    return import(\n      /* webpackChunkName: \"components/taogewan-combox-remote/taogewan-combox-remote\" */ \"@/components/taogewan-combox-remote/taogewan-combox-remote.vue\"\n    )\n  },\n  uniSwipeAction: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-swipe-action/uni-swipe-action\" */ \"@/components/uni-swipe-action/uni-swipe-action.vue\"\n    )\n  },\n  uniSwipeActionItem: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-swipe-action-item/uni-swipe-action-item\" */ \"@/components/uni-swipe-action-item/uni-swipe-action-item.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sale.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sale.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<wyb-loading ref=\"loading\"/>\r\n\t\t<view class=\"\" style=\"display: flex;flex-direction: row;margin-top: 10px;margin-left: 5px;margin-right: 5px;\">\r\n\t\t\t<view class=\"saleinput\">\r\n\t\t\t\t<taogewan-combox-remote class=\"input1\" v-model=\"usertextinput\" :placeholder=\"usertextinput\"  emptyTips=\" \" :candidates=\"codes\" @input=\"changecode\" @select=\"onCodigoSelect\"/>\r\n\t\t\t\t<!-- <input class=\"input1\" type=\"text\" :value=\"goods.codeNum\" placeholder=\"请输入商品条码尾数\" placeholder-style=\"color:#aaa;\" @change=\"changecode\"/> -->\r\n\t\t\t</view>\t\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t<button type=\"primary\" @click=\"codeQuery(usertextinput, 0)\" \r\n\t\t\t\tstyle=\"background-color: #CAE1FF;border-radius: 1px;color: #343434;width: 80px;height: 40px;font-size: 16px;margin-left: 5px;\">查询</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t<button type=\"primary\" @click=\"ClassSelect\" \r\n\t\t\t\tstyle=\"background-color: #CAE1FF;border-radius: 1px;color: #343434;width: 80px;height: 40px;font-size: 16px;margin-left: 5px;\">分类</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view>\r\n\t\t\t<scroll-view style=\"height: 525px;margin-top: 10px;\" :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\" @scrolltoupper=\"upper\" @scrolltolower=\"lower\"\r\n\t\t\t@scroll=\"scroll\">\r\n\t\t\t\t<uni-swipe-action>\r\n\t\t\t\t\t<uni-swipe-action-item v-for=\"(item, index) in commodityList\" :key=\"index\">\r\n\t\t\t\t\t\t<template v-slot:left>\r\n\t\t\t\t\t\t\t<view class=\"slot-button\">\r\n\t\t\t\t\t\t\t\t<text class=\"slot-button-text\" @click=\"goodcountsmin(index)\">数量-1</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text style=\"margin-left: 10px;\">{{item.goodsCount}}*{{item.price}}</text>\r\n\t\t\t\t\t\t\t\t<text  style=\"margin-left: 20px;\">{{item.codigo}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text style=\"margin-left: 10px;\">{{item.nombre}}</text>\r\n\t\t\t\t\t\t\t\t<text style=\"margin-left: 100px;\">{{item.sum}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<template v-slot:right>\r\n\t\t\t\t\t\t\t<view class=\"slot-button\"><text class=\"slot-button-text\" @click=\"goodcountsadd(index)\">数量+1</text></view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</uni-swipe-action-item>\r\n\t\t\t\t</uni-swipe-action>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"\" style=\"bottom: 5px;position: fixed;display: flex;flex-direction: row;z-index: 1;\">\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t<button type=\"primary\" @click=\"checkOut\" \r\n\t\t\t\tstyle=\"background-color: #CAE1FF;border-radius: 1px;color: #343434;width: 80px;height: 40px;font-size: 16px;margin-left: 5px;\">结账</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t<button type=\"primary\" @click=\"startCamera\" \r\n\t\t\t\tstyle=\"background-color: #CAE1FF;border-radius: 1px;color: #343434;width: 80px;height: 40px;font-size: 16px;margin-left: 10px;\">扫码</button>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"color: #343434;font-size: 16px;align-items: center;justify-content: center;display: flex;width: 80px;\">\r\n\t\t\t\t<text>TOTAL:</text>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"color: #343434;font-size: 16px;align-items: center;justify-content: center;display: flex;width: 80px;\">\r\n\t\t\t\t<text style=\"\">{{total}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetSupnuevoBuyerPriceCommodityListByLastFourCodigoMobile,\r\n\t\tgerCommodityInfoByCodigoMobile,\r\n\t\tsaveCommoditySaleMobile\r\n\t} from '@/api/sale.js'\r\n\timport taogewanComboxRemote from '@/components/taogewan-combox-remote/taogewan-combox-remote.vue'\r\n\timport wybLoading from '@/components/wyb-loading/wyb-loading.vue'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tweightService: '',\r\n\t\t\t\tcodeNum: '',\r\n\t\t\t\tcodes: [],\r\n\t\t\t\tcommodityList: [],\r\n\t\t\t\tusertextinput: '',\r\n\t\t\t\tprice: '',\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tusertextinput: \"条码尾数或价格\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.weightService = getApp().globalData.weightService;\t\r\n\t\t\tconsole.log(this.weightService)\r\n\t\t\t\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\twybLoading,\r\n\t\t\ttaogewanComboxRemote\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tupper: function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t},\r\n\t\t\tlower: function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t},\r\n\t\t\tscroll: function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.old.scrollTop = e.detail.scrollTop\r\n\t\t\t},\r\n\t\t\tchangecode (keyword){\r\n\t\t\t\tvar codeNum = keyword;\r\n\t\t\t\tif (codeNum.length>=4){\r\n\t\t\t\tthis.$refs.loading.showLoading()\r\n\t\t\t\tvar a = codeNum.substring(0, 3);\r\n\t\t\t\t a = parseInt(a);\r\n\t\t\t\t if (a === 200) {\r\n\t\t\t\t\tthis.queryGoodsCode(codeNum, 200);\r\n\t\t\t\t} else if (a === 210) {\r\n\t\t\t\t\tthis.queryGoodsCode(codeNum, 210);\r\n\t\t\t\t} else if (a === 220) {\r\n\t\t\t\t\tthis.queryGoodsCode(codeNum, 220);\r\n\t\t\t\t} else if (a === 230) {\r\n\t\t\t\t\tthis.queryGoodsCode(codeNum, 230);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.queryGoodsCode(codeNum, null);\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tqueryGoodsCode (codeNum,n) {\r\n\t\t\t\tvar weightService = this.weightService;\r\n\t\t\t\t  if (n === 200 || n === 210 || n === 220 || n === 230) {\r\n\t\t\t\t\t if (n === 200) {\r\n\t\t\t\t\t\t var a = weightService[200];\r\n\t\t\t\t\t } else if (n === 210) {\r\n\t\t\t\t\t\t var a = weightService[210];\r\n\t\t\t\t\t } else if (n === 220) {\r\n\t\t\t\t\t\t var a = weightService[220];\r\n\t\t\t\t\t } else if (n === 230) {\r\n\t\t\t\t\t\t var a = weightService[230];\r\n\t\t\t\t\t }\r\n\t\t\t\t\t this.codeQuery(codeNum, a);\r\n\t\t\t\t }else {\r\n\t\t\t\t\t getSupnuevoBuyerPriceCommodityListByLastFourCodigoMobile({\r\n\t\t\t\t\t\t  codigo: codeNum,\r\n\t\t\t\t\t }).then(res => {\r\n\t\t\t\t\t\t  var errorMsg = res.errorMsg;\r\n\t\t\t\t\t\t if (errorMsg !== null && errorMsg !== undefined && errorMsg !== \"\") {\r\n\t\t\t\t\t\t\t uni.showModal({\r\n\t\t\t\t\t\t\t title: \"提示\",\r\n\t\t\t\t\t\t\t content: errorMsg,\r\n\t\t\t\t\t\t\t showCancel: false,\r\n\t\t\t\t\t\t\t })\r\n\t\t\t\t\t\t } else {\r\n\t\t\t\t\t\t\t if (res.array.length === 1) {\r\n\t\t\t\t\t\t\t\t var code = {codigo: res.array[0].codigo, commodityId: res.array[0].commodityId}\r\n\t\t\t\t\t\t\t\t this.codeQuery(code.codigo, 0);\r\n\t\t\t\t\t\t\t\t  this.$refs.loading.hideLoading() // 隐藏\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t else {\r\n\t\t\t\t\t\t\t\t this.codes = [];\r\n\t\t\t\t\t\t\t\t var codes = res.array;\r\n\t\t\t\t\t\t\t\tfor (var i=0 ; i < res.array.length ; i++){\r\n\t\t\t\t\t\t\t\t\tvar searchItem={key:null,value:''}\r\n\t\t\t\t\t\t\t\t\tsearchItem.key = i\r\n\t\t\t\t\t\t\t\t\tsearchItem.value = res.array[i].codigo\r\n\t\t\t\t\t\t\t\t\tthis.codes.push(searchItem)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t console.log(this.codes)\r\n\t\t\t\t\t\t\t\t this.$refs.loading.hideLoading() // 隐藏\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }) .catch((err) => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\tcontent: err,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t});\r\n\t\t\t\t }\t  \t\r\n\t\t\t    },\r\n\t\t\t\tonCodigoSelect(key,item) {\r\n\t\t\t\t\tconsole.log(item.value)\r\n\t\t\t\t    this.codeQuery(item.value, 0);\r\n\t\t\t\t },\r\n\t\t\t\tcodeQuery(codeNum, flag) {\r\n\t\t\t\t\t if (flag === 0 || flag === 11) {//当flag=0是输入条码，11是扫码 \r\n\t\t\t\t\t\tgerCommodityInfoByCodigoMobile({\r\n\t\t\t\t\t\t\t codigo: codeNum,\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\tvar errMessage = res.errMessage;\r\n\t\t\t\t\t\t\tif (errMessage !== null && errMessage !== undefined && errMessage !== \"\") {\r\n\t\t\t\t\t\t\t\tuni.showModal({ \r\n\t\t\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\t\t\tcontent: errMessage,\r\n\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else if (res.price === null) {\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\t\tcontent: \"该商品暂时缺少价格\",\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar commodity = {codigo: res.codigo, nombre: res.nombre, price: res.price + \"\"};\n\t\t\t\t\t\t\t\tvar commodityList = this.commodityList;\n\t\t\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\t\t\tvar f = 0;\n\t\t\t\t\t\t\t\tfor (i = 0; i < commodityList.length; i++) {\n\t\t\t\t\t\t\t\t\tif (commodity.codigo === commodityList[i].codigo) {\n\t\t\t\t\t\t\t\t\tf = 1;\n\t\t\t\t\t\t\t\t\tcommodityList[i].goodsCount++;\n\t\t\t\t\t\t\t\t\tcommodityList[i].sum = commodityList[i].goodsCount * commodityList[i].price;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (i === commodityList.length && f === 0) {\n\t\t\t\t\t\t\t\t\tcommodity.goodsCount = 1;\n\t\t\t\t\t\t\t\t\tcommodity.sum = res.price;\n\t\t\t\t\t\t\t\t\tcommodityList.push(commodity);\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.commodityList = commodityList;\r\n\t\t\t\t\t\t\t\tthis.total = this.total + res.price;\r\n\t\t\t\t\t\t\t\t\t// if (flag === 11) {\r\n\t\t\t\t\t\t\t\t\t// \tthis.closeCameraThenBegin();\r\n\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\t\t\tcontent: err,\r\n\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tvar priceA = [codeNum.substring(8, 10) * 1].toString();\r\n\t\t\t\t\t\t\t\tvar priceB = codeNum.substring(10, 12).toString();\r\n\t\t\t\t\t\t\t\tvar commodity = {codigo: codeNum, nombre: flag, price: priceA + \".\" + priceB};\r\n\t\t\t\t\t\t\t\tvar commodityList = this.commodityList;\r\n\t\t\t\t\t\t\t\tcommodity.goodsCount = 1;\r\n\t\t\t\t\t\t\t\tcommodity.sum = commodity.price * 1;\r\n\t\t\t\t\t\t\t\tcommodityList.push(commodity);\r\n\t\t\t\t\t\t\t\tthis.commodityList = commodityList;\r\n\t\t\t\t\t\t      }\r\n\t\t\t\t\t        // if (this.sListView !== undefined && this.sListView !== null && this.sListView.length>0) {\r\n\t\t\t\t\t        //     const bottomOfList = this.state.listHeight - this.state.scrollViewHeight;\r\n\t\t\t\t\t        //     this.sListView._listView.scrollTo({y: bottomOfList});\r\n\t\t\t\t\t        // }\r\n\t\t\t\t},\r\n\t\t\t\tClassSelect(){\r\n\t\t\t\t\t var userinput = this.usertextinput;\r\n\t\t\t\t\t if (userinput === null || userinput === 0 || userinput === \"\") {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\tcontent: \"请您先输入价格\",\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.price = userinput;\n\t\t\t\t\t\tthis.usertextinput = '';\n\t\t\t\t\t\tlet commodityList = {\r\n\t\t\t\t\t\t\tprice: this.price,\r\n\t\t\t\t\t\t\tgoodsCount : 1,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: './AddCommInfo?commodityList='+encodeURIComponent(JSON.stringify(commodityList))\r\n\t\t\t\t\t\t})\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tgoodcountsadd(index){\r\n\t\t\t\t\tvar commodityList = this.commodityList;\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\tvar k = 0;\r\n\t\t\t\t\tthis.total = this.total - commodityList[index].sum;\r\n\t\t\t\t\tcommodityList[index].goodsCount += 1;\r\n\t\t\t\t\tcommodityList[index].sum = commodityList[index].goodsCount * commodityList[index].price;\r\n\t\t\t\t\tcommodityList[index].sum += \"\";\r\n\t\t\t\t\ti = commodityList[index].sum.indexOf(\".\");\r\n\t\t\t\t\t if (i != -1) {\r\n\t\t\t\t\tk = commodityList[index].sum.substring(i + 2, i + 3) * 1;\r\n\t\t\t\t\tif (k === 9) {\r\n\t\t\t\t\t\tcommodityList[index].sum = commodityList[index].sum * 1;\r\n\t\t\t\t\t\tcommodityList[index].sum += 0.001;\r\n\t\t\t\t\t\tcommodityList[index].sum += \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcommodityList[index].sum = commodityList[index].sum.substring(0, i + 2);\r\n\t\t\t\t}\r\n\t\t\t\tcommodityList[index].sum = commodityList[index].sum * 1;\r\n\t\t\t\tthis.total = this.total + commodityList[index].sum;\r\n\t\t\t\tthis.commodityList = commodityList;\r\n\t\t\t\t},\r\n\t\t\t\tgoodcountsmin(index){\r\n\t\t\t\t\tvar commodityList = this.commodityList;\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\tvar k = 0;\r\n\t\t\t\t\tthis.total = this.total - commodityList[index].sum;\r\n\t\t\t\t\tcommodityList[index].goodsCount -= 1;\r\n\t\t\t\t\tcommodityList[index].sum = commodityList[index].goodsCount * commodityList[index].price;\r\n\t\t\t\t\tif (commodityList[index].goodsCount === 0) {\r\n\t\t\t\t\t\tcommodityList.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcommodityList[index].sum += \"\";\r\n\t\t\t\t\t\ti = commodityList[index].sum.indexOf(\".\");\r\n\t\t\t\t\t\tif (i != -1) {\r\n\t\t\t\t\t\t\t// alert(i);\r\n\t\t\t\t\t\t\tk = commodityList[index].sum.substring(i + 2, i + 3) * 1;\r\n\t\t\t\t\t\t\tif (k === 9) {\r\n\t\t\t\t\t\t\t\tcommodityList[index].sum = commodityList[index].sum * 1;\r\n\t\t\t\t\t\t\t\tcommodityList[index].sum += 0.001;\r\n\t\t\t\t\t\t\t\tcommodityList[index].sum += \"\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcommodityList[index].sum = commodityList[index].sum.substring(0, i + 2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcommodityList[index].sum = commodityList[index].sum * 1;\r\n\t\t\t\t\t\tthis.total = this.total + commodityList[index].sum;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.commodityList = commodityList;\r\n\t\t\t\t},\r\n\t\t\t\tcheckOut(){\r\n\t\t\t\t\t var commodityList = this.commodityList;\r\n\t\t\t\t\t if (commodityList !== [] && commodityList.length !== 0) {\r\n\t\t\t\t\t\t saveCommoditySaleMobile({\r\n\t\t\t\t\t\t\t commodityList: commodityList,\r\n\t\t\t\t\t\t }).then(res => {\r\n\t\t\t\t\t\t\t var errMessage = res.errMessage;\r\n\t\t\t\t\t\t\t if (errMessage !== null && errMessage !== undefined && errMessage !== \"\") {\r\n\t\t\t\t\t\t\t \tuni.showModal({ \r\n\t\t\t\t\t\t\t \t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\t \t\tcontent: errMessage,\r\n\t\t\t\t\t\t\t \t\tshowCancel: false,\r\n\t\t\t\t\t\t\t \t})\r\n\t\t\t\t\t\t\t }else {\r\n\t\t\t\t\t\t\t\t   this.commodityList = [];  \r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t }).catch((err) => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\tcontent: err,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t }else {\r\n\t\t\t\t\t\t uni.showModal({\r\n\t\t\t\t\t\t \ttitle: \"提示\",\r\n\t\t\t\t\t\t \tcontent: \"没有结账内容\",\r\n\t\t\t\t\t\t \tshowCancel: false,\r\n\t\t\t\t\t\t })\r\n\t\t\t\t\t }\r\n\t\t\t\t\t this.total = 0;\r\n\t\t\t\t},\r\n\t\t\t\tstartCamera(){\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tuni.scanCode({\r\n\t\t\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t\t\tthat.usertextinput = res.result;\r\n\t\t\t\t\t\t\tconsole.log('条码内容：' + that.usertextinput);\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\t\tcontent: \"扫码成功！！\",\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(res){\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\t\tcontent: \"扫码失败！！\",\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.saleinput {\r\n\t\theight: 40px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-width: 3px;\r\n\t\tborder: 1px solid;\r\n\t\tpadding: 5px;\r\n\t\twidth: 200px;\r\n\t}\r\n\t.input1 {\r\n\t\tdisplay: flex;\r\n\t\tflex: 8;\r\n\t\theight: 35px;\r\n\t\tpadding-left: 10;\r\n\t\tpadding-right: 10;\r\n\t\tpadding-top: 6;\r\n\t\tpadding-bottom: 6;\r\n\t\tbackground-color: white;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t.example {\r\n\t\tpadding: 0 15px 15px;\r\n\t}\r\n\r\n\t.example-info {\r\n\t\tpadding: 15px;\r\n\t\tcolor: #3b4144;\r\n\t\tbackground: #ffffff;\r\n\t}\r\n\r\n\t.example-body {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\t.content-box {\r\n\t\tflex: 1;\r\n\t\theight: 44px;\r\n\t\tline-height: 44px;\r\n\t\tpadding: 0 15px;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-bottom-color: #f5f5f5;\r\n\t\tborder-bottom-width: 1px;\r\n\t\tborder-bottom-style: solid;\r\n\t}\r\n\r\n\t.content-text {\r\n\t\tfont-size: 15px;\r\n\t}\r\n\r\n\t.example-body {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 10px 0;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.button {\r\n\t\tborder-color: #e5e5e5;\r\n\t\tborder-style: solid;\r\n\t\tborder-width: 1px;\r\n\t\tpadding: 4px 8px;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.button-text {\r\n\t\tfont-size: 15px;\r\n\t}\r\n\r\n\t.slot-button {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\t/* #endif */\r\n\t\tflex: 1;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 20px;\r\n\t\tbackground-color: #ff5a5f;\r\n\t}\r\n\r\n\t.slot-button-text {\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 14px;\r\n\t}\r\n</style>\r\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sale.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sale.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1614730911482\n      var cssReload = require(\"C:/Users/Administrator/Downloads/HBuilderX.2.8.11.20200907/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}